<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Income & Expense Calculator</title>
    <meta name="theme-color" content="#0f1724">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="theme-dark">
    <div class="app-shell">
        <header class="top-bar">
            <div class="brand">
                <div class="brand-mark"></div>
                <div>
                    <p class="eyebrow">Smart budgeting</p>
                    <h1>Income &amp; Expense Estimator</h1>
                </div>
            </div>
            <div class="top-actions">
                <button id="themeToggle" class="ghost-btn" type="button">Switch to Light</button>
                <button id="clearData" class="ghost-btn secondary" type="button">Reset data</button>
            </div>
        </header>

        <p class="lede">Plan paychecks, deductions, and bills in one view. Your numbers auto-save to this device and are ready offline via the installed PWA.</p>

        <main class="layout-grid">
            <section id="income-section" class="panel">
                <div class="panel-head">
                    <div>
                        <p class="eyebrow">Income inputs</p>
                        <h2>How do you get paid?</h2>
                    </div>
                    <div class="pill pill-soft" id="autosaveStatus">Auto-saved</div>
                </div>
                <div class="option-row">
                    <label class="pill-select">
                        <input type="radio" name="incomeType" value="salary" id="salaryRadio" checked>
                        <span>Annual salary</span>
                    </label>
                    <label class="pill-select">
                        <input type="radio" name="incomeType" value="hourly" id="hourlyRadio">
                        <span>Hourly wage</span>
                    </label>
                </div>

                <div id="salaryInputs" class="inputs-group">
                    <label class="field">
                        <span>Annual salary ($)</span>
                        <input type="text" id="annualSalary" inputmode="decimal" autocomplete="off" data-format="currency" placeholder="e.g. 75,000">
                    </label>
                </div>

                <div id="hourlyInputs" class="inputs-group hidden">
                    <div class="field-grid">
                        <label class="field">
                            <span>Hourly wage ($)</span>
                            <input type="text" id="hourlyWage" inputmode="decimal" autocomplete="off" data-format="currency" placeholder="Hourly rate">
                        </label>
                        <label class="field">
                            <span>Hours per week</span>
                            <input type="text" id="hoursPerWeek" inputmode="decimal" autocomplete="off" data-format="number" value="40">
                        </label>
                        <label class="field">
                            <span>Overtime hours per week</span>
                            <input type="text" id="overtimeHours" inputmode="decimal" autocomplete="off" data-format="number" value="0">
                        </label>
                        <label class="field">
                            <span>Overtime rate multiplier</span>
                            <input type="text" id="overtimeMultiplier" inputmode="decimal" autocomplete="off" data-format="number" value="1.5">
                        </label>
                    </div>
                </div>

                <div class="field-grid dual">
                    <label class="field">
                        <span>Select your state</span>
                        <select id="stateSelect"></select>
                    </label>
                    <label class="field">
                        <span>Filing status</span>
                        <select id="filingStatus">
                            <option value="single">Single</option>
                            <option value="married">Married Filing Jointly</option>
                            <option value="head">Head of Household</option>
                        </select>
                    </label>
                </div>
            </section>

            <section id="results-section" class="panel">
                <div class="panel-head">
                    <p class="eyebrow">Income breakdown</p>
                    <h2>Gross vs take-home</h2>
                    <p class="muted-text">All values auto-convert to monthly, weekly, and hourly views.</p>
                </div>
                <div class="stat-grid">
                    <div class="stat-card">
                        <p class="label">Annual gross</p>
                        <p class="stat" id="grossAnnual">$0.00</p>
                        <p class="hint">Before taxes</p>
                    </div>
                    <div class="stat-card">
                        <p class="label">Annual net</p>
                        <p class="stat positive" id="netAnnual">$0.00</p>
                        <p class="hint" id="effectiveTaxRate">Effective tax: 0%</p>
                    </div>
                    <div class="stat-card">
                        <p class="label">Monthly net</p>
                        <p class="stat" id="netMonthly">$0.00</p>
                        <p class="hint">After all deductions</p>
                    </div>
                </div>
                <div class="table-wrap">
                    <table id="incomeTable">
                        <thead>
                            <tr>
                                <th>Period</th>
                                <th>Gross</th>
                                <th>Net</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Monthly</td>
                                <td id="grossMonthly">$0.00</td>
                                <td id="netMonthlyRow">$0.00</td>
                            </tr>
                            <tr>
                                <td>Bi-Weekly</td>
                                <td id="grossBiWeekly">$0.00</td>
                                <td id="netBiWeekly">$0.00</td>
                            </tr>
                            <tr>
                                <td>Weekly</td>
                                <td id="grossWeekly">$0.00</td>
                                <td id="netWeekly">$0.00</td>
                            </tr>
                            <tr>
                                <td>Hourly</td>
                                <td id="grossHourly">$0.00</td>
                                <td id="netHourly">$0.00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="panel-sub">
                    <div>
                        <p class="eyebrow">Withholding detail</p>
                        <h3>What gets deducted</h3>
                    </div>
                    <dl class="pill-list">
                        <div class="pill-row">
                            <dt>Federal income tax</dt>
                            <dd id="federalTaxAmount">$0.00</dd>
                        </div>
                        <div class="pill-row">
                            <dt>State income tax</dt>
                            <dd id="stateTaxAmount">$0.00</dd>
                        </div>
                        <div class="pill-row">
                            <dt>Social Security (6.2%)</dt>
                            <dd id="socialSecurityTaxAmount">$0.00</dd>
                        </div>
                        <div class="pill-row">
                            <dt>Medicare (1.45%)</dt>
                            <dd id="medicareTaxAmount">$0.00</dd>
                        </div>
                        <div class="pill-row total">
                            <dt>Total annual taxes</dt>
                            <dd id="totalTaxAmount">$0.00</dd>
                        </div>
                    </dl>
                </div>
            </section>

            <section id="expenses-section" class="panel wide">
                <div class="panel-head">
                    <p class="eyebrow">Monthly living</p>
                    <h2>Expense tracker</h2>
                    <p class="muted-text">Itemize each category so the calculator can show where your take-home goes.</p>
                </div>

                <div class="expense-grid">
                    <div class="expense-category">
                        <div class="category-head">
                            <div>
                                <p class="eyebrow">Housing</p>
                                <h3>Shelter costs</h3>
                            </div>
                            <p class="category-total" id="housingTotal">$0.00</p>
                        </div>
                        <div class="list">
                            <label class="field">
                                <span>Type</span>
                                <select id="housingType">
                                    <option value="rent">Rent</option>
                                    <option value="mortgage">Mortgage</option>
                                </select>
                            </label>
                            <label class="field">
                                <span>Amount ($/month)</span>
                                <input type="text" id="housingAmount" inputmode="decimal" autocomplete="off" data-format="currency" value="0">
                            </label>
                            <label id="propertyTaxLabel" class="field hidden" for="propertyTax">
                                <span>Property tax ($/month)</span>
                                <input type="text" id="propertyTax" inputmode="decimal" autocomplete="off" data-format="currency" value="0">
                            </label>
                        </div>
                        <div id="housingExtras" class="extras-container"></div>
                        <button type="button" class="add-item-btn" onclick="addCustomItem('housingExtras')">Add custom item</button>
                    </div>

                    <div class="expense-category">
                        <div class="category-head">
                            <div>
                                <p class="eyebrow">Utilities</p>
                                <h3>Everyday services</h3>
                            </div>
                            <p class="category-total" id="utilitiesTotal">$0.00</p>
                        </div>
                        <div class="list">
                            <label class="field">
                                <span>Bundled utilities ($/month)</span>
                                <input type="text" id="utilitiesBase" inputmode="decimal" autocomplete="off" data-format="currency" value="0" title="Enter base utilities costs. Add specific items below.">
                            </label>
                        </div>
                        <div id="utilitiesExtras" class="extras-container"></div>
                        <button type="button" class="add-item-btn" onclick="addCustomItem('utilitiesExtras')">Add custom item</button>
                    </div>

                    <div class="expense-category">
                        <div class="category-head">
                            <div>
                                <p class="eyebrow">Travel</p>
                                <h3>Getting around</h3>
                            </div>
                            <p class="category-total" id="travelTotal">$0.00</p>
                        </div>
                        <div class="checkbox-group">
                            <label><input type="checkbox" id="vehicleCheckbox"> Owned/Leased Vehicle</label>
                            <label><input type="checkbox" id="publicTransportCheckbox"> Public transportation</label>
                            <label><input type="checkbox" id="rideShareCheckbox"> Taxi/Uber/Ride Share</label>
                            <label><input type="checkbox" id="miscTravelCheckbox"> Miscellaneous travel</label>
                        </div>

                        <div id="vehicleSection" class="travel-section hidden">
                            <h4>Vehicle Expenses</h4>
                            <div class="field-grid dual">
                                <label class="field">
                                    <span>Monthly payment ($)</span>
                                    <input type="text" id="vehiclePayment" inputmode="decimal" autocomplete="off" data-format="currency" value="0">
                                </label>
                                <label class="field">
                                    <span>Fuel/Charging ($)</span>
                                    <input type="text" id="fuelCosts" inputmode="decimal" autocomplete="off" data-format="currency" value="0">
                                </label>
                                <label class="field">
                                    <span>Insurance ($)</span>
                                    <input type="text" id="autoInsuranceAmount" inputmode="decimal" autocomplete="off" data-format="currency" value="0">
                                </label>
                                <label class="field">
                                    <span>Insurance pay period</span>
                                    <select id="autoInsurancePeriod">
                                        <option value="1">Monthly</option>
                                        <option value="3">Quarterly (every 3 months)</option>
                                        <option value="6">Semi-annually (every 6 months)</option>
                                        <option value="12">Annually</option>
                                    </select>
                                </label>
                            </div>
                            <div id="vehicleExtras" class="extras-container"></div>
                            <button type="button" class="add-item-btn" onclick="addCustomItem('vehicleExtras')">Add custom item</button>
                            <p class="category-total sub" id="vehicleTotal">$0.00</p>
                        </div>

                        <div id="publicTransportSection" class="travel-section hidden">
                            <h4>Public Transit</h4>
                            <div id="publicTransportExtras" class="extras-container"></div>
                            <button type="button" class="add-item-btn" onclick="addCustomItem('publicTransportExtras')">Add custom item</button>
                            <p class="category-total sub" id="publicTransportTotal">$0.00</p>
                        </div>

                        <div id="rideShareSection" class="travel-section hidden">
                            <h4>Fare-based Rides</h4>
                            <div id="rideShareExtras" class="extras-container"></div>
                            <button type="button" class="add-item-btn" onclick="addCustomItem('rideShareExtras')">Add custom item</button>
                            <p class="category-total sub" id="rideShareTotal">$0.00</p>
                        </div>

                        <div id="miscTravelSection" class="travel-section hidden">
                            <h4>Misc Travel</h4>
                            <div id="miscTravelExtras" class="extras-container"></div>
                            <button type="button" class="add-item-btn" onclick="addCustomItem('miscTravelExtras')">Add custom item</button>
                            <p class="category-total sub" id="miscTravelTotal">$0.00</p>
                        </div>
                    </div>

                    <div class="expense-category">
                        <div class="category-head">
                            <div>
                                <p class="eyebrow">Food</p>
                                <h3>Groceries &amp; dining</h3>
                            </div>
                            <p class="category-total" id="foodTotal">$0.00</p>
                        </div>
                        <label class="field">
                            <span>Monthly amount ($)</span>
                            <input type="text" id="foodExpenses" inputmode="decimal" autocomplete="off" data-format="currency" value="0">
                        </label>
                    </div>

                    <div class="expense-category">
                        <div class="category-head">
                            <div>
                                <p class="eyebrow">Everything else</p>
                                <h3>Additional expenses</h3>
                            </div>
                            <p class="category-total" id="additionalTotal">$0.00</p>
                        </div>
                        <div id="additionalExpenses" class="extras-container"></div>
                        <button type="button" class="add-item-btn" onclick="addCustomItem('additionalExpenses')">Add custom item</button>
                    </div>
                </div>
            </section>

            <section id="summary-section" class="panel">
                <div class="panel-head">
                    <p class="eyebrow">All-in summary</p>
                    <h2>See the math</h2>
                    <p class="muted-text">Every deduction and expense is rolled into this view with formulas.</p>
                </div>
                <div class="summary-grid">
                    <div class="summary-card">
                        <p class="label">Total monthly expenses</p>
                        <p class="stat" id="totalExpenses">$0.00</p>
                    </div>
                    <div class="summary-card">
                        <p class="label">Monthly leftover</p>
                        <p class="stat positive" id="remainingIncome">$0.00</p>
                    </div>
                </div>
                <div class="summary-math">
                    <div class="math-step">
                        <p class="label">Step 1</p>
                        <p class="equation"><span id="calcGrossAnnual">$0.00</span> gross − <span id="calcTotalTax">$0.00</span> taxes = <span id="calcNetAnnual">$0.00</span> net per year</p>
                    </div>
                    <div class="math-step">
                        <p class="label">Step 2</p>
                        <p class="equation"><span id="calcNetMonthly">$0.00</span> net monthly − <span id="calcExpenses">$0.00</span> expenses = <span id="calcLeftover">$0.00</span> leftover</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
